%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.402505e+002; foe(n+1)=3.457343e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=2.042458e+002; foe(n+1)=2.073067e+002; krok(n+1)=1.213392e-003; ng(n+1)=1.474176e+003;
n=2; farx(n+1)=9.538168e+001; foe(n+1)=9.900907e+001; krok(n+1)=1.442683e-003; ng(n+1)=1.101742e+003;
n=3; farx(n+1)=5.232817e+001; foe(n+1)=5.045535e+001; krok(n+1)=2.329252e-003; ng(n+1)=7.236755e+002;
n=4; farx(n+1)=3.576112e+001; foe(n+1)=4.326917e+001; krok(n+1)=2.219272e-002; ng(n+1)=2.558292e+002;
n=5; farx(n+1)=2.913068e+001; foe(n+1)=3.695325e+001; krok(n+1)=4.083230e-003; ng(n+1)=2.962050e+002;
n=6; farx(n+1)=2.754474e+001; foe(n+1)=3.448422e+001; krok(n+1)=1.427772e-003; ng(n+1)=4.581494e+002;
n=7; farx(n+1)=2.788458e+001; foe(n+1)=3.422036e+001; krok(n+1)=7.598245e-003; ng(n+1)=1.427477e+002;
n=8; farx(n+1)=2.758580e+001; foe(n+1)=3.368774e+001; krok(n+1)=1.617035e-002; ng(n+1)=1.589839e+002;
n=9; farx(n+1)=2.534750e+001; foe(n+1)=3.315333e+001; krok(n+1)=1.170340e-001; ng(n+1)=4.778379e+001;
n=10; farx(n+1)=2.463620e+001; foe(n+1)=3.300997e+001; krok(n+1)=1.809047e-002; ng(n+1)=8.918415e+001;
n=11; farx(n+1)=2.346652e+001; foe(n+1)=3.281201e+001; krok(n+1)=2.604479e-002; ng(n+1)=7.002483e+001;
n=12; farx(n+1)=2.329080e+001; foe(n+1)=3.264818e+001; krok(n+1)=4.799811e-002; ng(n+1)=3.483849e+001;
n=13; farx(n+1)=2.346564e+001; foe(n+1)=3.258786e+001; krok(n+1)=1.349675e-002; ng(n+1)=1.491262e+001;
n=14; farx(n+1)=2.332287e+001; foe(n+1)=3.250212e+001; krok(n+1)=5.213103e-002; ng(n+1)=4.734573e+001;
n=15; farx(n+1)=2.329832e+001; foe(n+1)=3.233906e+001; krok(n+1)=1.515816e-001; ng(n+1)=2.439345e+001;
n=16; farx(n+1)=2.319385e+001; foe(n+1)=3.224118e+001; krok(n+1)=2.331822e-002; ng(n+1)=5.747738e+001;
n=17; farx(n+1)=2.303662e+001; foe(n+1)=3.219684e+001; krok(n+1)=2.896961e-002; ng(n+1)=5.587346e+001;
n=18; farx(n+1)=2.258838e+001; foe(n+1)=3.204290e+001; krok(n+1)=1.101559e-001; ng(n+1)=1.829608e+001;
n=19; farx(n+1)=2.215315e+001; foe(n+1)=3.187972e+001; krok(n+1)=5.360061e-002; ng(n+1)=5.792395e+001;
n=20; farx(n+1)=2.237338e+001; foe(n+1)=3.152808e+001; krok(n+1)=5.258261e-002; ng(n+1)=5.451793e+001;
n=21; farx(n+1)=2.282529e+001; foe(n+1)=3.136164e+001; krok(n+1)=2.432476e-002; ng(n+1)=4.006395e+001;
n=22; farx(n+1)=2.345403e+001; foe(n+1)=3.117335e+001; krok(n+1)=7.191676e-003; ng(n+1)=9.766267e+001;
n=23; farx(n+1)=2.390149e+001; foe(n+1)=3.107605e+001; krok(n+1)=3.657312e-003; ng(n+1)=7.484013e+001;
n=24; farx(n+1)=2.399156e+001; foe(n+1)=3.096166e+001; krok(n+1)=2.764852e-002; ng(n+1)=5.405012e+001;
n=25; farx(n+1)=2.442492e+001; foe(n+1)=3.080834e+001; krok(n+1)=2.118041e-002; ng(n+1)=1.402535e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.442228e+001; foe(n+1)=3.069411e+001; krok(n+1)=6.756225e-005; ng(n+1)=2.085518e+002;
n=27; farx(n+1)=2.434566e+001; foe(n+1)=3.054827e+001; krok(n+1)=8.989595e-004; ng(n+1)=5.806869e+001;
n=28; farx(n+1)=2.449150e+001; foe(n+1)=2.996840e+001; krok(n+1)=1.683682e-003; ng(n+1)=7.907725e+001;
n=29; farx(n+1)=2.481158e+001; foe(n+1)=2.985187e+001; krok(n+1)=2.583925e-003; ng(n+1)=3.803369e+001;
n=30; farx(n+1)=2.372434e+001; foe(n+1)=2.950222e+001; krok(n+1)=4.792105e-003; ng(n+1)=4.596847e+001;
n=31; farx(n+1)=2.217387e+001; foe(n+1)=2.893714e+001; krok(n+1)=1.797739e-002; ng(n+1)=3.352443e+001;
n=32; farx(n+1)=2.074498e+001; foe(n+1)=2.839860e+001; krok(n+1)=1.033570e-002; ng(n+1)=2.663486e+002;
n=33; farx(n+1)=1.903721e+001; foe(n+1)=2.795753e+001; krok(n+1)=6.480489e-003; ng(n+1)=1.460262e+002;
n=34; farx(n+1)=1.486854e+001; foe(n+1)=2.634121e+001; krok(n+1)=1.789637e-002; ng(n+1)=4.956799e+002;
n=35; farx(n+1)=1.416376e+001; foe(n+1)=2.619805e+001; krok(n+1)=3.058651e-004; ng(n+1)=3.290299e+002;
n=36; farx(n+1)=1.279243e+001; foe(n+1)=2.584831e+001; krok(n+1)=1.370601e-002; ng(n+1)=6.005333e+002;
n=37; farx(n+1)=1.143649e+001; foe(n+1)=2.539663e+001; krok(n+1)=2.586841e-003; ng(n+1)=6.678319e+002;
n=38; farx(n+1)=1.013074e+001; foe(n+1)=2.499838e+001; krok(n+1)=4.201739e-003; ng(n+1)=4.677955e+002;
n=39; farx(n+1)=9.471309e+000; foe(n+1)=2.477986e+001; krok(n+1)=2.262638e-003; ng(n+1)=5.328467e+002;
n=40; farx(n+1)=8.305727e+000; foe(n+1)=2.447612e+001; krok(n+1)=3.478135e-003; ng(n+1)=4.347724e+002;
n=41; farx(n+1)=7.756417e+000; foe(n+1)=2.432453e+001; krok(n+1)=1.369522e-003; ng(n+1)=6.653411e+002;
n=42; farx(n+1)=7.319584e+000; foe(n+1)=2.415016e+001; krok(n+1)=6.065270e-003; ng(n+1)=6.754307e+002;
n=43; farx(n+1)=6.324443e+000; foe(n+1)=2.378114e+001; krok(n+1)=2.274128e-003; ng(n+1)=6.021749e+002;
n=44; farx(n+1)=4.845014e+000; foe(n+1)=2.290441e+001; krok(n+1)=6.699412e-003; ng(n+1)=7.888708e+002;
n=45; farx(n+1)=4.339427e+000; foe(n+1)=2.259368e+001; krok(n+1)=1.869974e-003; ng(n+1)=8.595904e+002;
n=46; farx(n+1)=4.075743e+000; foe(n+1)=2.232788e+001; krok(n+1)=2.474886e-003; ng(n+1)=4.593001e+002;
n=47; farx(n+1)=3.993610e+000; foe(n+1)=2.213214e+001; krok(n+1)=2.774090e-003; ng(n+1)=6.919779e+002;
n=48; farx(n+1)=3.964640e+000; foe(n+1)=2.164917e+001; krok(n+1)=4.182551e-003; ng(n+1)=9.451995e+002;
n=49; farx(n+1)=3.809336e+000; foe(n+1)=2.106103e+001; krok(n+1)=1.881905e-002; ng(n+1)=3.054016e+002;
n=50; farx(n+1)=3.883161e+000; foe(n+1)=2.056156e+001; krok(n+1)=2.414856e-003; ng(n+1)=7.417336e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
